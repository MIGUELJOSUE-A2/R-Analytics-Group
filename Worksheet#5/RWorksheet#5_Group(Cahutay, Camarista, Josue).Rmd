---
title: "RWorksheet#5_Group(Cahutay, Camarista, Josue)"
author: "Cahutay, Camarista, Josue"
date: "`r Sys.Date()`"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(polite)
library(httr)
library(rvest)
library(dplyr)
url <- "https://www.imdb.com/chart/toptv/?sort=rank%2Casc"

session <- bow(url, 
               user_agent = "Educational")
session
```

```{r}
title_list <- read_html(url) %>%
  html_nodes('h3.ipc-title__text') %>%
  html_text()



title_list_sub <- as.data.frame(title_list[2:26], stringsAsFactors = FALSE)
colnames(title_list_sub) <- "ranks"

split_df <- strsplit(as.character(title_list_sub$ranks), "\\.", fixed = FALSE)
split_df <- data.frame(do.call(rbind, split_df), stringsAsFactors = FALSE)

colnames(split_df) <- c("rank", "title")
split_df <- split_df %>% select(rank, title)

split_df$title <- trimws(split_df$title)


rank_title <- split_df
rank_title
```
